(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],m=0,d=[];m<o.length;m++)i=o[m],n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2730:function(e,t,a){},"38a8":function(e,t,a){"use strict";var r=a("ce9c"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("v-toolbar",{attrs:{app:"",dark:""}},[a("v-toolbar-title",[e._v("uberping")])],1),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-bottom-nav",{attrs:{fixed:"",dark:"",value:"true"}},[a("v-btn",{attrs:{href:"#/game"}},[e._v("Play "),a("v-icon",[e._v("input")])],1),a("v-btn",{attrs:{href:"#/highscore"}},[e._v("Highscore  "),a("v-icon",[e._v("assessment")])],1),a("v-btn",{attrs:{href:"#/matches","md-icon":"list"}},[e._v("Matches "),a("v-icon",[e._v("list")])],1)],1)],1)},s=[],i=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-progress-linear",{attrs:{indeterminate:!0}}):e._e(),a("v-select",{attrs:{label:"Home player",items:e.users,"item-text":"name","item-value":"_id"},model:{value:e.homeUser,callback:function(t){e.homeUser=t},expression:"homeUser"}}),a("v-slider",{attrs:{min:"0",max:"30","thumb-label":"always"},model:{value:e.homeScore,callback:function(t){e.homeScore=t},expression:"homeScore"}}),a("v-card",[a("div",{staticClass:"score"},[a("table",[a("tr",[a("td",[a("span",{staticClass:"user"},[e._v("\n                  "+e._s(e.homeUser?e.users.find(function(t){return t._id===e.homeUser}).name:"home")+"\n                ")])]),a("td",[a("span",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.homeScore)+" - "+e._s(e.awayScore))])]),a("td",[a("span",[e._v(e._s(e.awayUser?e.users.find(function(t){return t._id===e.awayUser}).name:"away"))])])])])])]),a("v-select",{attrs:{label:"Away player",items:e.users,"item-text":"name","item-value":"_id"},model:{value:e.awayUser,callback:function(t){e.awayUser=t},expression:"awayUser"}}),a("v-slider",{attrs:{min:"0",max:"30","thumb-label":"always"},model:{value:e.awayScore,callback:function(t){e.awayScore=t},expression:"awayScore"}}),a("br"),a("br"),a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",color:"primary",large:"",dark:""},on:{click:e.register}},[e._v("\n      "+e._s(e.infoText)+"\n       "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_upload")])],1)],1)],1)},c=[],u=(a("c5f6"),a("bc3a")),l=a.n(u),m={name:"Highscopre",data:function(){return{numbers:Array.apply(null,{length:30}).map(Number.call,Number),homeUser:"",homeScore:11,awayScore:11,awayUser:"",users:null,infoText:"Register",showInfo:!1,loading:!1}},mounted:function(){var e=this;l.a.get("api/users").then(function(t){var a=t.data;e.users=a})},methods:{register:function(){var e=this;if(this.homeUser&&this.awayUser&&this.homeScore>-1&&this.awayScore>-1){this.infoText="Saving...";var t={homeId:this.homeUser,homeScore:this.homeScore,awayId:this.awayUser,awayScore:this.awayScore};l.a.post("api/matches",t).then(function(){e.infoText="Saved",setTimeout(function(){return e.infoText="Register"},1e3)})}}}},d=m,h=(a("f315"),a("2877")),p=Object(h["a"])(d,o,c,!1,null,"5be426b5",null);p.options.__file="Game.vue";var v=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-progress-linear",{attrs:{indeterminate:!0}}):e._e(),a("div",{staticClass:"grid"},[e._l(e.users,function(t,r){return a("div",{key:t.id,staticClass:"grid-item"},[a("v-card",[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(r+1)+". ")]),a("h3",{staticClass:"headline mb-0"},[e._v(e._s(t.name))])]),a("v-card-content",[a("v-chip",{attrs:{"text-color":"white",title:"Rating",color:"primary"}},[e._v(e._s(t.rating.toFixed(1))+" "),a("v-icon",{attrs:{rigtht:""}},[e._v("grade")])],1),a("svg",{staticStyle:{"vertical-align":"middle",margin:"4px"},attrs:{width:e.sparkline.w,height:e.sparkline.h}},[a("path",{staticStyle:{stroke:"#555",fill:"transparent"},attrs:{d:e.createSparkline(t)}})]),a("v-chip",{attrs:{"text-color":"white",title:"Streak",color:"green"}},[a("v-icon",{attrs:{rigtht:""}},[e._v("schedule")]),e._v(" "+e._s(t.streak))],1),a("v-chip",{attrs:{"text-color":"white",title:"Wins",color:"primary"}},[a("v-icon",{attrs:{rigtht:""}},[e._v("thumb_up")]),e._v(" "+e._s(t.wins))],1),a("v-chip",{attrs:{"text-color":"white",title:"Losses",color:"red"}},[a("v-icon",{attrs:{rigtht:""}},[e._v("thumb_down")]),e._v(" "+e._s(t.losses))],1)],1)],1)],1)}),a("v-btn",{on:{click:e.rank}},[e._v("Rank")])],2)],1)},_=[],g=a("be94"),b=a("5698"),w={name:"Highscopre",data:function(){return{users:null,loading:!1,sparkline:{w:80,h:20}}},mounted:function(){this.getUsers()},methods:{createSparkline:function(e){var t=this.sparkline.w,a=this.sparkline.h,r=e.ratingHistory.map(function(e){return Object(g["a"])({},e,{timestamp:new Date(e.timestamp).valueOf()})}),n=Object(b["d"])().range([0,t]),s=Object(b["c"])().range([a,0]);n.domain(Object(b["a"])(r,function(e){return e.timestamp})),s.domain(Object(b["a"])(r,function(e){return e.rating}));var i=Object(b["b"])().x(function(e){return n(e.timestamp)}).y(function(e){return s(e.rating)});return i(r)},getUsers:function(){var e=this;this.loading=!0,l.a.get("api/users").then(function(t){var a=t.data;e.users=a,e.loading=!1})},rank:function(){var e=this;l.a.get("api/updateRating").then(function(){e.getUsers()})}},computed:{matches:function(){var e=this;return this.rawmatches.map(function(t){return{timestamp:t.timestamp,home:e.usermap[t.homeId],homeScore:t.homeScore,awayScore:t.awayScore,away:e.usermap[t.awayId]}})}}},y=w,S=Object(h["a"])(y,f,_,!1,null,null,null);S.options.__file="Highscore.vue";var x=S.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-progress-linear",{attrs:{indeterminate:!0}}):e._e(),a("table",e._l(e.matches.slice(0,50),function(t){return a("tr",{key:t.id},[a("td",[a("span",[e._v(e._s(t.timestamp.toLocaleString()))])]),a("td",[a("v-chip",{attrs:{title:"Winning score",color:"primary"}},[e._v(e._s(t.home)+" | "),a("b",[e._v(e._s(t.homeScore))])]),a("span",[e._v(" -- ")]),a("v-chip",{attrs:{title:"Losing score",color:"accent"}},[a("b",[e._v(e._s(t.awayScore))]),e._v(" | "+e._s(t.away))])],1),a("td",[a("v-btn",{on:{click:function(a){e.remove(t.id)}}},[e._v("Remove")])],1)])}))],1)},U=[],O=(a("55dd"),a("20d6"),a("7f7f"),a("ac6a"),{name:"Matches",data:function(){return{users:null,rawmatches:[],usermap:{},loading:!0}},mounted:function(){var e=this;l.a.get("api/users").then(function(t){var a=t.data;e.users=a,a.forEach(function(t){e.usermap[t._id]=t.name}),l.a.get("api/matches").then(function(t){e.rawmatches=t.data,e.loading=!1})})},methods:{remove:function(e){var t=this,a=this.rawmatches.findIndex(function(t){return t._id===e});l.a.delete("api/matches/".concat(e)).then(function(){return t.rawmatches.splice(a,1)})}},computed:{matches:function(){var e=this;return this.rawmatches.map(function(t){return{id:t._id,timestamp:new Date(t.timestamp),home:e.usermap[t.homeId],homeScore:t.homeScore,awayScore:t.awayScore,away:e.usermap[t.awayId]}}).sort(function(e,t){return t.timestamp-e.timestamp})}}}),j=O,C=(a("38a8"),Object(h["a"])(j,k,U,!1,null,"5e66b10f",null));C.options.__file="Matches.vue";var T=C.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),a("table",[e._l(e.users,function(t){return a("tr",{key:t.id,staticClass:"grid-item"},[a("td",[a("span",[e._v(e._s(t.name))])]),a("td",[a("md-button",{on:{click:function(a){e.deleteUser(t._id)}}},[e._v("Delete")])],1)])}),a("tr",[a("td",[a("md-field",[a("label",[e._v("New user")]),a("md-input",{attrs:{type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("td",[a("md-field",[a("md-button",{staticClass:"md-primary md-raised",on:{click:e.addUser}},[e._v("Add")])],1)],1)])],2)],1)},M=[],P={name:"Users",data:function(){return{users:null,name:name,loading:!1}},mounted:function(){this.getUsers()},methods:{deleteUser:function(e){var t=this;l.a.delete("api/users/".concat(e)).then(function(){return t.getUsers()})},addUser:function(){var e=this;l.a.post("api/users/".concat(this.name)).then(function(){return e.getUsers()})},getUsers:function(){var e=this;this.loading=!0,l.a.get("api/users").then(function(t){var a=t.data;e.users=a.sort(function(e,t){var a=e.name.toLowerCase(),r=t.name.toLowerCase();return a<r?-1:a>r?1:0}),e.loading=!1})}}},E=P,H=Object(h["a"])(E,I,M,!1,null,null,null);H.options.__file="Users.vue";var R=H.exports,$=new i["a"]({routes:[{path:"/game",component:v},{path:"/highscore",component:x},{path:"/matches",component:T},{path:"/users",component:R}]}),L={name:"app",router:$},A=L,D=(a("5c0b"),Object(h["a"])(A,n,s,!1,null,null,null));D.options.__file="App.vue";var N=D.exports,J=a("ce5b"),W=a.n(J);a("bf40");r["default"].use(W.a),r["default"].use(i["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(N)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("5e27"),n=a.n(r);n.a},"5e27":function(e,t,a){},ce9c:function(e,t,a){},f315:function(e,t,a){"use strict";var r=a("2730"),n=a.n(r);n.a}});
//# sourceMappingURL=app.2ebb62e7.js.map